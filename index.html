<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Msambweni Technical & Vocational College</title>
<style>
/* Global Reset */
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: Arial, sans-serif; line-height:1.6; color:#333; scroll-behavior: smooth; }

/* Header */
header {
  background:#2c7be5;
  color:#fff;
  padding:15px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
  position:sticky;
  top:0;
  z-index:1000;
}
.header-left, .header-right { width:60px; height:60px; }
.header-left img, .header-right img { width:100%; height:auto; }
.header-center { flex:1; text-align:center; font-size:20px; font-weight:bold; }

nav ul { display:flex; list-style:none; justify-content:center; flex-wrap:wrap; width:100%; margin-top:10px; }
nav ul li { margin:5px 15px; }
nav ul li a { color:#fff; text-decoration:none; font-weight:bold; }
nav ul li a:hover { text-decoration:underline; }

/* Hero Section */
.hero {
  position: relative;
  background: url('college-hero.jpg') center/cover no-repeat;
  height:85vh;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  color:#fff;
  overflow:hidden;
}
.hero-overlay {
  position:absolute;
  top:0; left:0; width:100%; height:100%;
  background: linear-gradient(135deg, rgba(44,123,229,0.8), rgba(77,163,255,0.8));
  z-index:1;
}
.hero-content {
  position:relative;
  z-index:2;
  max-width:900px;
  padding:20px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:20px;
}
.hero-content h1 { font-size:36px; text-shadow:2px 2px 5px rgba(0,0,0,0.5); text-align:center; }
.hero-content h2 { font-size:28px; color:#ffeb3b; text-align:center; }
.hero-content p { font-size:16px; max-width:700px; text-align:center; }
.hero .btn {
  display:inline-block;
  padding:15px 30px;
  font-size:18px;
  font-weight:bold;
  color:#fff;
  background: linear-gradient(90deg, #ff7e5f, #feb47b);
  border-radius:12px;
  text-decoration:none;
  margin-top:10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  transition:0.3s;
}
.hero .btn:hover { background: linear-gradient(90deg, #ff6a3c, #ffb15c); transform:translateY(-3px); }

/* Hero Info Cards */
.hero-cards {
  display:flex;
  flex-wrap:wrap;
  gap:20px;
  justify-content:center;
  margin-top:20px;
}
.hero-card {
  background: rgba(255,255,255,0.15);
  padding:15px 20px;
  border-radius:12px;
  backdrop-filter: blur(10px);
  color:#fff;
  min-width:220px;
  box-shadow:0 4px 15px rgba(0,0,0,0.2);
  text-align:center;
}
.hero-card span { font-size:28px; display:block; margin-bottom:8px; }
.hero-card p { font-size:14px; margin:0; }

/* Hero Socials */
.hero-socials {
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  justify-content:center;
  margin-top:25px;
}
.social-btn {
  background: linear-gradient(90deg, #4267B2, #23345C);
  color:#fff;
  padding:12px 20px;
  border-radius:10px;
  font-weight:bold;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition: transform 0.3s, box-shadow 0.3s;
}
.social-btn:nth-child(2) { background: linear-gradient(90deg, #FF0000, #C4302B); }
.social-btn:hover { transform:translateY(-3px); box-shadow:0 6px 15px rgba(0,0,0,0.3); }

/* About Section */
.about-section { padding:60px 20px; text-align:center; }
.about-section h2 { font-size:28px; margin-bottom:20px; color:#2c7be5; }
.about-section p { max-width:800px; margin:0 auto; font-size:16px; line-height:1.5; }

/* Slider Placeholder */
.slider { position:relative; width:100%; max-width:900px; height:500px; margin:40px auto; overflow:hidden; border-radius:15px; box-shadow:0 8px 20px rgba(0,0,0,0.2); background:#000; display:flex; align-items:center; justify-content:center; color:#fff; font-size:24px; font-weight:bold; text-align:center; }

/* Footer */
footer { background:#333; color:#fff; text-align:center; padding:20px; }
footer a { color:#ffcc00; text-decoration:none; margin:0 5px; }
footer a:hover { text-decoration:underline; }

/* Responsive */
@media(max-width:768px){
  header { flex-direction:column; align-items:center; }
  nav ul { flex-direction:column; margin-top:10px; }
  nav ul li { margin:10px 0; }
  .hero-content h1 { font-size:28px; }
  .hero-content h2 { font-size:22px; }
  .hero-content p { font-size:14px; }
  .hero-cards { flex-direction:column; gap:15px; }
  .hero-socials { flex-direction:column; gap:10px; }
}
</style>
</head>
<body>

<!-- Header -->
<header>
  <div class="header-left"><img src="knec.png" alt="Left Logo"></div>
  <div class="header-center">Msambweni Technical & Vocational College</div>
  <div class="header-right"><img src="logo.jpg" alt="Right Logo"></div>
  <nav>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#departments">Departments</a></li>
      <li><a href="#admissions">Admissions</a></li>
      <li><a href="#news">News</a></li>
      <li><a href="#finance-portal">Finance Portal</a></li>
      <li><a href="#staff-portal">Staff Portal</a></li>
    </ul>
  </nav>
</header>

<!-- Hero Section -->
<section id="home" class="hero">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1>Msambweni Technical & Vocational College</h1>
    <h2>Empowering Students for a Brighter Future</h2>
    <p>Providing top-quality technical and vocational education in ICT, Business, Engineering, Hospitality, Fashion, and more.</p>
    <a href="#admissions" class="btn">Apply Now</a>

    <!-- Info Cards -->
    <div class="hero-cards">
      <div class="hero-card">
        <span>üìç</span>
        <p>LOCATION: KWALE COUNTY, LIKONI LUNGALUNGA ROAD, MSAMBWENI</p>
      </div>
      <div class="hero-card">
        <span>üìö</span>
        <p>Courses: ICT, Mechanical Engineering, Welding, Fashion Design, Hair Dressing, Building & Construction, HR Management, Social Work, Procurement, Electrical & Electronics, Food & Beverage, Plumbing</p>
      </div>
      <div class="hero-card">
        <span>üóìÔ∏è</span>
        <p>WELCOME ALL 2025</p>
      </div>
    </div>

    <!-- Social Media Links -->
    <div class="hero-socials">
      <a href="https://www.facebook.com/share/v/1FMM4x4nqn/" target="_blank" class="social-btn">üëç Facebook</a>
      <a href="https://youtu.be/vbJVuYkpyOg?si=x0hPpyEeXdPJdDcS" target="_blank" class="social-btn">‚ñ∂ YouTube</a>
      <a href="https://students.kuccps.net/" target="_blank" class="social-btn">‚ñ∂ KUCCPS</a>
      <a href="https://www.helb.co.ke/" target="_blank" class="social-btn">‚ñ∂ HELB</a>
      <a href="https://www.tvetcdacc.go.ke/" target="_blank" class="social-btn">‚ñ∂ CDACC</a>
      <a href="https://www.youtube.com/@MSAMBWENI-TVC" target="_blank" class="social-btn">‚ñ∂ MTVC</a>
      <a href="https://epaper.peopledaily.digital/html5/reader/production/default.aspx?pubname=People%20Daily" target="_blank" class="social-btn">üëç People Daily</a>
    </div>
  </div>
</section>

<!-- About Section -->
<section id="about" class="about-section">
  <h2>üåü About Us</h2>
  <p>
    <strong>Msambweni Technical & Vocational College (MTVC)</strong> is dedicated to providing 
    high-quality technical and vocational education. Our mission is to empower students with 
    diverse skills, innovation, and knowledge to excel in today‚Äôs workforce and beyond.  
    We focus on practical training, modern technology, and industry-relevant programs.
  </p>
</section>

<!-- Slider / Admissions Placeholder -->
<section id="admissions" class="slider">
  Slider / Admissions Section Placeholder
</section>

<!-- Footer -->
<footer>
  &copy; 2026 Msambweni Technical & Vocational College | 
  <a href="#">Privacy Policy</a> | 
  <a href="#">Terms of Service</a>
</footer>

</body>
</html>










<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MTVC Student Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- FONT AWESOME FOR ICONS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body {
  margin:0;
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background:#f4f6f8;
  color:#333;
}

/* MODERN BANNER */
.header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:20px 40px;
  background: linear-gradient(90deg,#0d47a1,#1976d2);
  color:#fff;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  flex-wrap:wrap;
}
.header img {
  width:70px;
  border-radius:10px;
  margin-right:15px;
}
.header .title {
  flex-grow:1;
}
.header h1 {
  margin:0;
  font-size:24px;
}
.header p {
  margin:2px 0 0 0;
  font-size:14px;
  opacity:0.85;
}

/* CARD FORM */
.card {
  background:#fff;
  max-width:1200px;
  margin:20px auto;
  padding:25px;
  border-radius:10px;
  box-shadow:0 6px 20px rgba(0,0,0,0.15);
}

/* FORMS */
label {
  font-weight:600;
  margin-top:12px;
  display:block;
}
input, select {
  width:100%;
  padding:10px;
  margin-top:6px;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:14px;
}
button {
  width:100%;
  padding:12px;
  margin-top:18px;
  border:none;
  background:#0d47a1;
  color:#fff;
  font-size:15px;
  border-radius:6px;
  cursor:pointer;
  transition:.3s;
}
button:hover { background:#093373; }
.link {
  color:#0d47a1;
  cursor:pointer;
  text-align:center;
  margin-top:12px;
  display:block;
}
.msg {
  text-align:center;
  margin-top:12px;
  font-weight:bold;
  color:green;
}

/* GRID FORM: 4 columns */
.form-row {
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:15px;
}
@media(max-width:1200px){.form-row{grid-template-columns:repeat(3,1fr);}}
@media(max-width:900px){.form-row{grid-template-columns:repeat(2,1fr);}}
@media(max-width:600px){.form-row{grid-template-columns:1fr;}}

/* DASHBOARD CARDS */
#dashboard {
  display:none;
  max-width:1200px;
  margin:30px auto;
}
.card-grid {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:20px;
}
@media(max-width:900px){.card-grid{grid-template-columns:1fr;}}
.detail-card {
  padding:15px;
  border-radius:10px;
  color:#fff;
  display:flex;
  align-items:center;
  gap:10px;
  font-size:14px;
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
  transition:.3s;
}
.detail-card:hover {transform:translateY(-5px);box-shadow:0 8px 18px rgba(0,0,0,0.2);}
.detail-card i { font-size:22px; flex-shrink:0; }
.detail-card span { font-weight:600; }

/* DOWNLOAD BUTTONS */
.dashboard-link {
  display:block;
  padding:12px;
  background:#0d47a1;
  color:#fff;
  margin:10px 0;
  text-decoration:none;
  border-radius:5px;
  text-align:center;
}
</style>
</head>

<body>

<!-- MODERN BANNER -->
<div class="header">
  <img src="logo.jpg" alt="MTVC Logo">
  <div class="title">
    
   <p>WELCOME TO REGISTRA'S OFFICE ONLINE SERVICES AT MSAMBWENI TECHNICAL AND VOCATIONAL COLLEGE</p>
    <p>Email: registrar@school.ac.ke</p>
   <p>Office Location / Building: Main Administration Block, Room 101</p>
   <p>Working Hours: Mon‚ÄìFri, 8:00 AM ‚Äì 5:00 PM</p>
  </div>
  <div style="font-weight:bold;font-size:20px;">üéì Welcome</div>
</div>

<!-- AUTH CARD -->
<div class="card" id="authCard">
  <!-- LOGIN FORM -->
  <div id="loginForm">
    <label>Email</label><input type="email" id="loginEmail">
    <label>Password</label><input type="password" id="loginPassword">
    <button onclick="login()">Login</button>
    <span class="link" onclick="showCreate()">Create Account</span>
    <span class="link" onclick="showReset()">Forgot Password?</span>
    <div class="msg" id="msg"></div>
  </div>

  <!-- CREATE ACCOUNT FORM -->
  <div id="createForm" style="display:none;">
    <div class="form-row">
      <div><label>FULL NAME</label><input type="text" id="fullname"></div>
      <div><label>EMAIL</label><input type="email" id="email"></div>
      <div><label>YEAR OF ADMISSION</label><input type="number" id="admissionYear"></div>
      <div><label>KCSE INDEX</label><input type="text" id="kcse"></div>
    </div>
    <div class="form-row">
      <div><label>KCPE INDEX</label><input type="text" id="kcpe"></div>
      <div><label>ROLL NUMBER</label><input type="text" id="rollNumber"></div>
      <div><label>DATE OF BIRTH</label><input type="date" id="dob"></div>
      <div><label>FATHER'S NAME</label><input type="text" id="fatherName"></div>
    </div>
    <div class="form-row">
      <div><label>MOBILE</label><input type="text" id="MOBILE"></div>
      <div><label>GENDER</label>
        <select id="gender">
          <option value="">SELECT</option>
          <option>MALE</option>
          <option>MALE</option>
          <option>Other</option>
        </select>
      </div>
      <div><label>DEPARTMENT</label><input type="text" id="DEPARTMENT"></div>
      <div><label>COURSE</label><input type="text" id="COURSE"></div>
    </div>
    <div class="form-row">
      <div><label>CITY</label><input type="text" id="CITY"></div>
      <div><label>ADRESS</label><input type="text" id="ADRESS"></div>
      <div></div>
      <div></div>
    </div>
    <button onclick="signup()">CREATE ACCOUNT</button>
    <span class="link" onclick="showLogin()">BACK TO LOGIN</span>
    <div class="msg" id="msgCreate"></div>
  </div>

  <!-- RESET PASSWORD FORM -->
  <div id="resetForm" style="display:none;">
    <label>Email</label><input type="email" id="resetEmail">
    <button onclick="resetPassword()">Send Reset Link</button>
    <span class="link" onclick="showLogin()">Back to Login</span>
    <div class="msg" id="msgReset"></div>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard">
  <h2>üéì Student Dashboard</h2>
  <div class="card-grid" id="studentInfo"></div>

  <h3>Downloads</h3>
  <a class="dashboard-link" href="timetable.pdf" download>üìÑ Download Timetable</a>
  <a class="dashboard-link" href="notes.zip" download>üìö Download Notes</a>
  <a class="dashboard-link" href="guides.pdf" download>üìò Download Guides</a>

  <button onclick="logout()">üö™ Logout</button>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey:"AIzaSyAhiabnqiPW1Y_USf7r_UW2KymUyfiYmVs",
  authDomain:"studentregistration-b3f93.firebaseapp.com",
  projectId:"studentregistration-b3f93"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

/* SHOW FORMS */
function showLogin(){loginForm.style.display="block"; createForm.style.display="none"; resetForm.style.display="none"; msg.innerText="";}
function showCreate(){loginForm.style.display="none"; createForm.style.display="block"; resetForm.style.display="none";}
function showReset(){loginForm.style.display="none"; createForm.style.display="none"; resetForm.style.display="block";}

/* AUTH STATE */
auth.onAuthStateChanged(user=>{
  if(user){
    authCard.style.display="none";
    dashboard.style.display="block";
    loadProfile(user.uid);
  }else{
    authCard.style.display="block";
    dashboard.style.display="none";
    showLogin();
  }
});

/* LOAD PROFILE INTO CARDS WITHOUT PASSWORD */
function loadProfile(uid){
  db.collection("students_auth").doc(uid).get().then(doc=>{
    if(doc.exists){
      const data = doc.data();
      const info = document.getElementById('studentInfo');
      info.innerHTML="";
      const icons = {
        fullname:'<i class="fas fa-user"></i>',
        email:'<i class="fas fa-envelope"></i>',
        admissionYear:'<i class="fas fa-calendar-alt"></i>',
        kcse:'<i class="fas fa-graduation-cap"></i>',
        kcpe:'<i class="fas fa-school"></i>',
        rollNumber:'<i class="fas fa-id-badge"></i>',
        dob:'<i class="fas fa-birthday-cake"></i>',
        fatherName:'<i class="fas fa-user-tie"></i>',
        mobile:'<i class="fas fa-phone"></i>',
        gender:'<i class="fas fa-venus-mars"></i>',
        department:'<i class="fas fa-building"></i>',
        course:'<i class="fas fa-book"></i>',
        city:'<i class="fas fa-city"></i>',
        address:'<i class="fas fa-map-marker-alt"></i>'
      };
      let i=0;
      for(const key in data){
        if(key==="role"||key==="createdAt"||key==="password") continue;
        info.innerHTML+=`
        <div class="detail-card" style="background-color:${getColor(i)}">
          ${icons[key]||'<i class="fas fa-info-circle"></i>'}
          <span><strong>${key}</strong><br>${data[key]}</span>
        </div>`;
        i++;
      }
    }
  });
}

/* COLOR ARRAY */
function getColor(index){
  const colors = ["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548"];
  return colors[index%colors.length];
}

/* LOGIN */
function login(){
  msg.innerText="Signing in...";
  auth.signInWithEmailAndPassword(loginEmail.value,loginPassword.value)
    .catch(err=> msg.innerText=err.message);
}

/* GENERATE RANDOM PASSWORD */
function generatePassword(length=10){
  const chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()";
  let pass="";
  for(let i=0;i<length;i++) pass+=chars.charAt(Math.floor(Math.random()*chars.length));
  return pass;
}

/* SIGNUP */
function signup(){
  if(!email.value||!fullname.value){msgCreate.innerText="Fill required fields"; return;}
  msgCreate.innerText="Creating account...";
  const password = generatePassword();
  auth.createUserWithEmailAndPassword(email.value,password)
    .then(cred=>{
      return db.collection("students_auth").doc(cred.user.uid).set({
        fullname:fullname.value,email:email.value,password:password,
        admissionYear:admissionYear.value,kcse:kcse.value,kcpe:kcpe.value,
        rollNumber:rollNumber.value,dob:dob.value,fatherName:fatherName.value,
        mobile:mobile.value,gender:gender.value,department:department.value,
        course:course.value,city:city.value,address:address.value,
        role:"student",createdAt:firebase.firestore.FieldValue.serverTimestamp()
      });
    })
    .then(()=> msgCreate.innerText="Account created successfully ‚úÖ (Password stored in database)")
    .catch(err=> msgCreate.innerText=err.message);
}

/* RESET PASSWORD */
function resetPassword(){
  if(!resetEmail.value){msgReset.innerText="Enter email"; return;}
  auth.sendPasswordResetEmail(resetEmail.value)
    .then(()=> msgReset.innerText="Reset link sent ‚úÖ")
    .catch(err=> msgReset.innerText=err.message);
}

/* LOGOUT */
function logout(){auth.signOut();}
</script>

</body>
</html>





<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MTVC College System</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

<style>
body{margin:0;font-family:Segoe UI,sans-serif;background:#f0f2f5}
header{height:60px;background:#0d47a1;color:#fff;display:flex;align-items:center;padding:0 20px;position:fixed;width:100%;z-index:2}
header img{height:40px;margin-right:10px}
#loginBox{width:360px;margin:100px auto;background:#fff;padding:25px;border-radius:10px;box-shadow:0 5px 20px rgba(0,0,0,0.2)}
#loginBox h3{text-align:center;color:#0d47a1}
input,select,button{width:100%;padding:12px;margin:8px 0;border-radius:6px;border:1px solid #ccc;font-size:14px}
button{background:#0d47a1;color:#fff;font-weight:bold;cursor:pointer;transition:0.3s}
button:hover{background:#093373}
#sidebar{width:220px;background:#1a237e;color:#fff;position:fixed;top:60px;bottom:0;padding-top:20px;display:none}
#sidebar a{display:block;padding:14px 20px;color:#fff;text-decoration:none;transition:0.3s}
#sidebar a:hover{background:#3949ab}
#content{margin-left:0;margin-top:60px;padding:20px;transition:0.3s}
.card{background:#fff;padding:20px;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.1);margin-bottom:20px}
form{display:none}
form.active{display:block}
.msg{font-weight:bold;color:green;margin-top:10px}

/* TABLE */
.table{width:100%;border-collapse:collapse;margin-top:15px}
.table th,.table td{border:1px solid #ccc;padding:8px;text-align:center}
.table th{background:#0d47a1;color:#fff}
.table tr:nth-child(even){background:#f2f2f2}

/* BUTTONS */
.small-btn{padding:6px 12px;margin:4px;border-radius:6px;background:#0d47a1;color:#fff;border:none;cursor:pointer;transition:0.3s}
.small-btn:hover{background:#093373}

/* DASHBOARD CARDS */
.dashboard-cards{display:flex;flex-wrap:wrap;gap:15px;margin-top:15px}
.dashboard-card{flex:1 1 200px;background:#fff;padding:20px;border-radius:10px;color:#fff;font-weight:bold;text-align:center;box-shadow:0 5px 15px rgba(0,0,0,0.1);position:relative;transition:0.3s}
.dashboard-card h2{margin:10px 0;font-size:28px}
.dashboard-card span{font-size:14px;color:#f0f0f0}
.card-students{background:#1abc9c}
.card-staff{background:#3498db}
.card-fees{background:#e67e22}
.card-balance{background:#e74c3c}

/* RESPONSIVE */
@media(max-width:768px){.dashboard-cards{flex-direction:column;margin-left:0} #sidebar{position:relative;width:100%;height:auto}}
</style>
</head>
<body>

<!-- LOGIN / SIGNUP -->
<div id="loginBox">
  <h3>MTVC Secure Login</h3>
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">
  <select id="role">
    <option value="">Select Role</option>
    <option value="student">Student</option>
    <option value="staff">Staff</option>
    <option value="finance">Finance</option>
    <option value="admin">Admin</option>
  </select>
  <button onclick="login()">Login</button>
  <button onclick="signup()">Create Account</button>
  <p id="loginMsg"></p>
</div>

<!-- HEADER -->
<header id="topBar" style="display:none">
  <img src="logo.png" alt="MTVC Logo">
  <h3>MSAMBWENI TECHNICAL & VOCATIONAL COLLEGE</h3>
</header>

<!-- SIDEBAR -->
<div id="sidebar">
  <a onclick="show('dashboard')">üè† Dashboard</a>
  <a id="mStudent" onclick="show('student')">üéì Students</a>
  <a id="mAcademics" onclick="show('academics')">üìò Academics</a>
  <a id="mFinance" onclick="show('finance')">üí∞ Finance</a>
  <a id="mStaff" onclick="show('staff')">üë®‚Äçüè´ Staff</a>
  <a id="mAdmin" onclick="show('admin')">‚öô Admin</a>
  <a onclick="logout()">üö™ Logout</a>
</div>

<!-- CONTENT -->
<div id="content">

  <!-- DASHBOARD -->
  <div class="card" id="dashboard">
    <h3>Dashboard</h3>
    <div class="dashboard-cards">
      <div class="dashboard-card card-students">
        <h2 id="totalStudents">0</h2>
        <span>Total Students</span>
      </div>
      <div class="dashboard-card card-staff">
        <h2 id="totalStaff">0</h2>
        <span>Total Staff</span>
      </div>
      <div class="dashboard-card card-fees">
        <h2 id="totalFees">0</h2>
        <span>Total Fees Paid</span>
      </div>
      <div class="dashboard-card card-balance">
        <h2 id="totalBalance">0</h2>
        <span>Total Balance</span>
      </div>
    </div>
  </div>

  <!-- STUDENT -->
  <form class="card" id="student">
    <h3>Student Registration</h3>
    <input id="stuName" placeholder="Name">
    <input id="stuReg" placeholder="Reg No">
    <input id="stuCourse" placeholder="Course">
    <button>Save</button>
    <p class="msg" id="stuMsg"></p>
  </form>

  <!-- ACADEMICS -->
  <form class="card" id="academics">
    <h3>Academics</h3>
    <input id="aReg" placeholder="Reg No">
    <input id="aUnit" placeholder="Unit">
    <input id="aScore" type="number" placeholder="Score">
    <button>Save & Grade</button>
    <p class="msg" id="aMsg"></p>
    <div id="transcript"></div>
    <h4>Existing Records</h4>
    <table class="table" id="academicsTable">
      <thead>
        <tr><th>Reg No</th><th>Unit</th><th>Score</th><th>Grade</th><th>Actions</th></tr>
      </thead>
      <tbody></tbody>
    </table>
    <button class="small-btn" onclick="downloadTranscript()">Download Transcript</button>
  </form>

  <!-- FINANCE -->
  <form class="card" id="finance">
    <h3>Finance</h3>
    <input id="fReg" placeholder="Reg No">
    <input id="fPaid" type="number" placeholder="Amount Paid">
    <button>Save & Generate Fee Statement</button>
    <p class="msg" id="fMsg"></p>
    <div id="feeStatement"></div>
    <button class="small-btn" onclick="downloadFee()">Download Fee Statement</button>
  </form>

  <!-- STAFF -->
  <form class="card" id="staff">
    <h3>Staff</h3>
    <input id="sName" placeholder="Name">
    <input id="sRole" placeholder="Role">
    <input id="sEmail" placeholder="Email">
    <input id="sPhone" placeholder="Phone">
    <input id="sDept" placeholder="Department">
    <button>Save</button>
    <p class="msg" id="sMsg"></p>
  </form>

  <!-- ADMIN -->
  <form class="card" id="admin">
    <h3>Admin Settings</h3>
    <input id="adName" placeholder="Setting">
    <button>Save</button>
    <p class="msg" id="adMsg"></p>
  </form>

</div>

<script>
firebase.initializeApp({
 apiKey:"AIzaSyAhiabnqiPW1Y_USf7r_UW2KymUyfiYmVs",
 authDomain:"studentregistration-b3f93.firebaseapp.com",
 projectId:"studentregistration-b3f93"
});
const auth=firebase.auth();
const db=firebase.firestore();

/* SAVE USER ROLE */
async function saveUserRole(cred, selectedRole){
  const userRef = db.collection("users").doc(cred.user.uid);
  await userRef.set({
    email: cred.user.email,
    role: selectedRole,
    createdAt: firebase.firestore.FieldValue.serverTimestamp()
  }, { merge:true });
}

/* LOGIN */
async function login(){
 try{
  const cred = await auth.signInWithEmailAndPassword(email.value,password.value);
  const doc = await db.collection("users").doc(cred.user.uid).get();
  if(!doc.exists || doc.data().role!==role.value) throw "Sorry, access denied!";
  loginBox.style.display="none";
  topBar.style.display="flex";
  sidebar.style.display="block";
  content.style.marginLeft="220px";
  content.style.display="block";
  applyRole(role.value);
  updateDashboard();
  loadAcademicsTable();
 }catch(e){loginMsg.innerText=e.message || e}
}

/* SIGNUP - SINGLE ACCOUNT PER ROLE */
async function signup(){
 if(!email.value || !password.value || !role.value){loginMsg.innerText="Fill all fields"; return;}
 try{
  // Check if account for this role already exists
  const existing = await db.collection("users").where("role","==",role.value).get();
  if(existing.size>0){
    loginMsg.innerText=`An account for role "${role.value}" already exists. Please use another role or delete existing account.`;
    return;
  }

  const cred = await auth.createUserWithEmailAndPassword(email.value,password.value);
  await saveUserRole(cred, role.value);
  loginMsg.innerText="Account created ‚úÖ";
 }catch(e){
   if(e.code==="auth/email-already-in-use"){
     loginMsg.innerText="Sorry, the email is already taken!";
   } else {loginMsg.innerText=e.message}
 }
}

/* ROLE MENU */
function applyRole(r){
 if(r==="student"){hide(["mStaff","mFinance","mAdmin"])}
 if(r==="staff"){hide(["mFinance","mAdmin"])}
 if(r==="finance"){hide(["mAcademics","mStaff","mAdmin"])}
}
function hide(arr){arr.forEach(id=>document.getElementById(id).style.display="none")}

/* NAV */
function show(id){
 document.querySelectorAll(".card,form").forEach(d=>d.style.display="none");
 document.getElementById(id).style.display="block";
 if(id==="dashboard") updateDashboard();
 if(id==="academics") loadAcademicsTable();
}

/* LOGOUT */
function logout(){auth.signOut();location.reload()}

/* DASHBOARD SUMMARY */
async function updateDashboard(){
 const studentsSnap = await db.collection("students").get();
 const staffSnap = await db.collection("staff").get();
 const financeSnap = await db.collection("finance").get();

 document.getElementById("totalStudents").innerText = studentsSnap.size;
 document.getElementById("totalStaff").innerText = staffSnap.size;

let totalPaid=0, totalBalance=0;
financeSnap.forEach(d=>{totalPaid+=d.data().paid; totalBalance+=d.data().balance});
document.getElementById("totalFees").innerText = totalPaid;
document.getElementById("totalBalance").innerText = totalBalance;
}

/* STUDENT SAVE */
student.onsubmit=e=>{
 e.preventDefault();
 db.collection("students").add({
   name:stuName.value,
   reg:stuReg.value,
   course:stuCourse.value
 });
 stuMsg.innerText="Saved ‚úÖ";
 stuName.value=""; stuReg.value=""; stuCourse.value="";
 updateDashboard();
}

/* ACADEMICS SAVE & GRADE WITH EDIT/DELETE */
let transcriptData=[];
let editId=null;

academics.onsubmit=e=>{
 e.preventDefault();
 const score = Number(aScore.value);
 let grade="";
 if(score>=80) grade="Mastery";
 else if(score>=60) grade="Proficient";
 else if(score>=40) grade="Competent";
 else grade="Not Competent";

 if(editId){ // EDIT
   db.collection("academics").doc(editId).set({ reg:aReg.value, unit:aUnit.value, score:score, grade:grade });
   aMsg.innerText=`Updated ‚úÖ Grade: ${grade}`;
   editId = null;
 } else { // NEW
   db.collection("academics").add({ reg:aReg.value, unit:aUnit.value, score:score, grade:grade });
   aMsg.innerText=`Saved ‚úÖ Grade: ${grade}`;
 }

 aUnit.value=""; aScore.value="";
 aReg.value="";

 loadAcademicsTable();
}

/* LOAD ACADEMICS TABLE */
async function loadAcademicsTable(){
 const tbody = document.querySelector("#academicsTable tbody");
 tbody.innerHTML="";
 transcriptData=[];
 const snap = await db.collection("academics").get();
 snap.forEach(doc=>{
   const d = doc.data();
   const tr = document.createElement("tr");
   tr.innerHTML=`<td>${d.reg}</td><td>${d.unit}</td><td>${d.score}</td><td>${d.grade}</td>
   <td>
     <button class="small-btn" onclick="editRecord('${doc.id}','${d.reg}','${d.unit}',${d.score})">Edit</button>
     <button class="small-btn" onclick="deleteRecord('${doc.id}')">Delete</button>
   </td>`;
   tbody.appendChild(tr);
   transcriptData.push({reg:d.reg,unit:d.unit,score:d.score,grade:d.grade});
 });
 updateTranscript();
}

/* EDIT RECORD */
function editRecord(id, reg, unit, score){
 editId=id;
 aReg.value=reg;
 aUnit.value=unit;
 aScore.value=score;
 aMsg.innerText="Editing record...";
}

/* DELETE RECORD */
function deleteRecord(id){
 if(confirm("Are you sure you want to delete this record?")){
   db.collection("academics").doc(id).delete();
   loadAcademicsTable();
   aMsg.innerText="Record deleted ‚úÖ";
 }
}

/* UPDATE TRANSCRIPT */
function updateTranscript(){
 let table=`<h4>MSAMBWENI TECHNICAL & VOCATIONAL COLLEGE</h4><table class="table">
 <tr><th>Reg No</th><th>Unit</th><th>Score</th><th>Grade</th></tr>`;
 transcriptData.forEach(d=>{
   table+=`<tr><td>${d.reg}</td><td>${d.unit}</td><td>${d.score}</td><td>${d.grade}</td></tr>`;
 });
 table+="</table>";
 transcript.innerHTML=table;
}

/* DOWNLOAD TRANSCRIPT */
function downloadTranscript(){
 const blob = new Blob([transcript.innerHTML], {type:"application/msword;charset=utf-8"});
 saveAs(blob,"Transcript.doc");
}

/* FINANCE SAVE & CALCULATE BALANCE */
finance.onsubmit=e=>{
 e.preventDefault();
 const fees = 35000;
 const paid = Number(fPaid.value);
 const balance = fees - paid;

 db.collection("finance").add({reg:fReg.value,paid:paid,balance:balance});
 fMsg.innerText=`Saved! Balance: ${balance}`;

feeStatement.innerHTML=`<h4>MSAMBWENI TECHNICAL & VOCATIONAL COLLEGE</h4>
<table class="table">
<tr><th>Reg No</th><th>Total Fees</th><th>Paid</th><th>Balance</th></tr>
<tr><td>${fReg.value}</td><td>${fees}</td><td>${paid}</td><td>${balance}</td></tr>
</table>`;
fReg.value=""; fPaid.value="";
updateDashboard();
}

/* DOWNLOAD FEE STATEMENT */
function downloadFee(){
 const blob = new Blob([feeStatement.innerHTML], {type:"application/msword;charset=utf-8"});
 saveAs(blob,"FeeStatement.doc");
}

/* STAFF SAVE */
staff.onsubmit=e=>{
 e.preventDefault();
 db.collection("staff").add({
   name:sName.value,
   role:sRole.value,
   email:sEmail.value,
   phone:sPhone.value,
   dept:sDept.value
 });
 sMsg.innerText="Saved ‚úÖ";
 sName.value=""; sRole.value=""; sEmail.value=""; sPhone.value=""; sDept.value="";
 updateDashboard();
}

/* ADMIN SAVE */
admin.onsubmit=e=>{
 e.preventDefault();
 db.collection("admin").add({setting:adName.value});
 adMsg.innerText="Saved ‚úÖ";
 adName.value="";
}
</script>
</body>
</html>


 




 <!-- Footer -->
<footer class="footer">
  <div class="footer-container">
    
    <!-- About -->
    <div class="footer-section">
      <h3>About MTVC</h3>
      <p>Msambweni Technical & Vocational College is dedicated to providing high-quality technical and vocational education, preparing students for innovation, self-reliance, and leadership.</p>
    </div>

    <!-- Quick Links -->
    <div class="footer-section">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#admissions">Admissions</a></li>
        <li><a href="#departments">Departments</a></li>
        <li><a href="#news">News</a></li>
      </ul>
    </div>

    <!-- External Links -->
    <div class="footer-section">
      <h3>External Links</h3>
      <ul>
        <li><a href="https://kuccps.net" target="_blank">KUCCPS</a></li>
        <li><a href="https://www.helb.co.ke" target="_blank">HELB</a></li>
        <li><a href="https://www.tveta.go.ke" target="_blank">TVETA</a></li>
        <li><a href="https://www.tveta.go.ke/cdacc" target="_blank">CDACC</a></li>
      </ul>
    </div>

    <!-- Contact -->
    <div class="footer-section">
      <h3>Contact Us</h3>
      <p>Email: info@msambwenitvc.ac.ke</p>
      <p>Phone: +254 700 123 456</p>
      <p>Location: Msambweni, Kwale County, Kenya</p>
      <div class="social-icons">
        <a href="https://www.facebook.com/share/v/1FMM4x4nqn/" target="_blank" class="social-btn">üëç Facebook</a>
  <a href="https://youtu.be/vbJVuYkpyOg?si=x0hPpyEeXdPJdDcS" target="_blank" class="social-btn">‚ñ∂ YouTube</a>
<a href="https://students.kuccps.net/" target="_blank" class="social-btn">‚ñ∂KUCCPS</a>
<a href="https://www.helb.co.ke/" target="_blank" class="social-btn">‚ñ∂HELB</a>
<a href="https://www.tvetcdacc.go.ke/" target="_blank" class="social-btn">‚ñ∂CDACC</a>
 <a href="https://www.youtube.com/@MSAMBWENI-TVC" target="_blank" class="social-btn">‚ñ∂MTVC</a>


      </div>
    </div>

  </div>

  <!-- Bottom -->
  <div class="footer-bottom">
    <p>&copy; 2025 Msambweni Technical & Vocational College. All Rights Reserved.</p>
  </div>

  <!-- Back to Top -->
  <button id="backToTop" onclick="scrollToTop()">‚Üë Top</button>
</footer>

<!-- Footer CSS -->
<style>
.footer {
  background: linear-gradient(135deg, #1a3d7c, #2c7be5);
  color: #fff;
  padding: 50px 20px 20px;
  font-family: Arial, sans-serif;
  margin-top: 50px;
}
.footer-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 30px;
  max-width: 1200px;
  margin: 0 auto;
}
.footer-section h3 {
  font-size: 1.3rem;
  margin-bottom: 15px;
  border-bottom: 2px solid #ffcc00;
  display: inline-block;
  padding-bottom: 5px;
}
.footer-section p, .footer-section ul {
  font-size: 0.95rem;
  line-height: 1.6;
}
.footer-section ul {
  list-style: none;
  padding: 0;
}
.footer-section ul li {
  margin: 8px 0;
}
.footer-section ul li a {
  color: #ffeb99;
  text-decoration: none;
  font-weight: bold;
  transition: 0.3s;
}
.footer-section ul li a:hover {
  color: #fff;
  text-shadow: 0 0 8px #ffcc00, 0 0 12px #2c7be5;
}
.social-icons {
  margin-top: 15px;
}
.social-icons a img {
  width: 28px;
  height: 28px;
  margin-right: 12px;
  transition: transform 0.3s, filter 0.3s;
}
.social-icons a img:hover {
  transform: scale(1.2);
  filter: drop-shadow(0 0 6px #ffcc00);
}
#backToTop {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #ffcc00;
  color: #333;
  border: none;
  border-radius: 50px;
  padding: 12px 20px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  display: none;
}
#backToTop:hover {
  background: #e6b800;
  color: #fff;
  box-shadow: 0 0 10px #ffcc00;
}
.footer-bottom {
  text-align: center;
  padding-top: 20px;
  border-top: 1px solid rgba(255,255,255,0.3);
  margin-top: 20px;
  font-size: 0.9rem;
  color: #ddd;
}
</style>

<!-- Back to Top Script -->
<script>
function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
window.onscroll = function () {
  let btn = document.getElementById("backToTop");
  if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
    btn.style.display = "block";
  } else {
    btn.style.display = "none";
  }
};
</script>
</body>
</html>






























































































































































































